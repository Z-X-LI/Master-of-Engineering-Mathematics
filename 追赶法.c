#include<stdio.h>
#include<math.h>
void main()
{
    int i;
    int n=4;

    float y[10];
    float d[10][11]={4,-1,0,0,0,0,0,0,0,0,7,
                     -1,4,-1,0,0,0,0,0,0,0,5,
                     0,-1,4,-1,0,0,0,0,0,0,-13,
                     0,0,-1,4,-1,0,0,0,0,0,2,
                     0,0,0,-1,4,-1,0,0,0,0,6,
                     0,0,0,0,-1,4,-1,0,0,0,-12,
                     0,0,0,0,0,-1,4,-1,0,0,14,
                     0,0,0,0,0,0,-1,4,-1,0,-4,
                     0,0,0,0,0,0,0,-1,4,-1,5,
                     0,0,0,0,0,0,0,0,-1,4,-5};

    void zhui(float *,int,float[]);
    zhui(d[0],10,y);    
    printf("\n");
    for(i=0;i<=9;i++)printf("x[%d]=%f\n",i+1,y[i]); 
}
//追赶法
void zhui(float *u,int n,float x[])
{
    int i,j;
    float p;

for(i=1;i<=n-1;i++)
    {
        p=*(u+i*(n+1)+i-1)/(*(u+(i-1)*(n+1)+i-1));
        *(u+i*(n+1)+i-1)=0;
        *(u+i*(n+1)+i)-=p*(*(u+(i-1)*(n+1)+i));
        *(u+i*(n+1)+n)-=p*(*(u+(i-1)*(n+1)+n));
    }

    x[n-1]=(*(u+(n-1)*(n+1)+n))/(*(u+(n-1)*(n+1)+n-1));
    for(j=n-2;j>=0;j--)
    {

        x[j]=((*(u+j*(n+1)+n))-x[j+1]*(*(u+j*(n+1)+j+1)))/(*(u+j*(n+1)+j));
    }
}
